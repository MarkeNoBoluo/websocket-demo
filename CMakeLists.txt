# WebSocket Demo - æ ¹CMakeé…ç½®
cmake_minimum_required(VERSION 3.16)
project(WebSocketDemo
    VERSION 1.0.0
    DESCRIPTION "Modular WebSocket Client/Server Demo"
    LANGUAGES CXX
)

# ğŸ¯ è®¾ç½®C++æ ‡å‡†
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

# ğŸ“‚ è®¾ç½®è¾“å‡ºç›®å½•
set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)

# ğŸ”§ åŒ…å«CMakeå·¥å…·è„šæœ¬
list(APPEND CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake)

# ğŸ“¦ æŸ¥æ‰¾ä¾èµ–
find_package(Boost 1.86.0 REQUIRED COMPONENTS system thread)

# ğŸ—ï¸ æŒ‰é¡ºåºæ·»åŠ æ¨¡å—ï¼ˆä¾èµ–é¡ºåºå¾ˆé‡è¦ï¼ï¼‰
add_subdirectory(common)      # 1. å…¬å…±åŸºç¡€åº“
add_subdirectory(core)        # 2. WebSocketæ ¸å¿ƒ
add_subdirectory(server)      # 3. æœåŠ¡å™¨ç¨‹åº
# add_subdirectory(client)      # 4. å®¢æˆ·ç«¯åº“
# add_subdirectory(console_client)  # 5. æ§åˆ¶å°å®¢æˆ·ç«¯

# ğŸ’¡ æ„å»ºåä¿¡æ¯
message(STATUS "======================================")
message(STATUS "é¡¹ç›®é…ç½®å®Œæˆ")
message(STATUS "æ„å»ºç±»å‹: ${CMAKE_BUILD_TYPE}")
message(STATUS "è¾“å‡ºç›®å½•: ${CMAKE_BINARY_DIR}")
message(STATUS "======================================")